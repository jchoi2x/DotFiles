        ; Reads SW0 SW1 from MSP430 Hardware
        .cdecls C,LIST,"msp430fg4618.h"


        .sect ".const"      ; data rom for initialized
        .bss  label, 4      ; allocates 4 bytes of
        .word 0x1234        ; example of defining a 16 bit
        .sect ".const"      ; initialized data ROM for

; string for condition 1
strg1   .string "SW2= 1    ; SW1=1"
        .byte 0x0d,0x0a    ; add a CR and a LF
        .byte 0x00         ; null terminate the string
; string for condition 2
strg2   .string "SW2= 1    ; SW1=0"
        .byte 0x0d,0x0a    ; add a CR and a LF
        .byte 0x00         ; null terminate the string
; string for condition 3
strg3   .string "SW2= 0    ; SW1=1"
        .byte 0x0d,0x0a    ; add a CR and a LF
        .byte 0x00         ; null terminate the string
; string for condition 4
strg3   .string "SW2= 1    ; SW1=1"
        .byte 0x0d,0x0a    ; add a CR and a LF
        .byte 0x00         ; null terminate the string

                           ; This is the code area flash begins at address 0x3100 can be
                           ; used for program code or constants
        .text              ; program start
        .global _START     ; define entry point


;----------------------------------------------------------------
;----------------------------------------------------------------
; Initialize 'x1121 ; stackpointer
START 		mov.w #300h,SP               
; Stop WDT
StopWDT 	mov.w #WDTPW+WDTHOLD,&WDTCTL 
; P2.2 output
SetupP1 	bis.b #02h,&P2DIR            

;----------------------------------------------------------------
;----------------------------------------------------------------
            call #Init_UART
Mainloop    mov&P1IN, R12


	
;----------------------------------------------------------------
;----------------------------------------------------------------	
compare cmp #0x00, R12 ; compares pin input to test if R12 is        ; equvalent to 00
        jz S1YesS2Yes  ; if it is equivalent jump to the named label
        mov&P1IN, R12
        cmp #0x01, R12 ; compares pin input to test if R12 is        ; equvalent to 01
        jz S1YesS2No   ; if it is equivalent jump to the named label
        mov &P1IN, R12
        cmp #0x02, R12 ; compares pin input to test if R12 is        ; equvalent to 10
        jz S1NoS2Yes   ; if it is equivalent jump to the named label
        mov &P1IN, R12
        cmp #0x03, R12 ; compares pin input to test if R12 is        ; equvalent to 11
        jz S1NoS2No    ; if it is equivalent jump to the named label
;----------------------------------------------------------------
;----------------------------------------------------------------

;----------------------------------------------------------------
;----------------------------------------------------------------
reset mov.w #0xBEAD,R10 ;sets/resets delay incrementation
L1  dec.w R7 ;delay and restarts mainloop to ;make take in new input
    jnz L1 ;and new output
    jmp Mainloop ;jump back to mainloop
;----------------------------------------------------------------
;----------------------------------------------------------------
; label for sw0 and sw1
S1YesS2Yes 
    mov #strg1, R13
    jmp send
	
;label for sw0 and sw1
S1YesS2No 
	jmp send
	
;label for condition 1
S1NoS2Yes ;label for condition 3
	mov #strg3, R13
	jmp send
	
;label for condition 1
S1NoS2No ;label for condition 14
	mov #strg4, R13
	jmp send
	
;label that prints selected sring out
send
	mov.b @R13, R4
	cmp #0x00, R4
	jeq reset
	call #OUTA_UART
	inc R13
	jmp send

OUTA_UART
	push R5
lpa mov.b &IFG2,R5
	and.b #0x02,R5
	cmp.b #0x00,R5
	jz lpa
	; send the data to the transmit buffer UCA0TXBUF = A;
	mov.b R4,&UCA0TXBUF
	pop R5
	ret
INCHAR_UART
	push R5

lpb mov.b &IFG2,R5
	and.b #0x01,R5
	cmp.b #0x00,R5

jzlpb
	mov.b &UCA0RXBUF,R4
	pop R5
	ret

Init_UART
	mov.b #0x30,&P2SEL
	mov.b #0x00,&UCA0CTL0
	mov.b #0x41,&UCA0CTL1
	mov.b #0x00,&UCA0BR1
	mov.b #0x03,&UCA0BR0
	mov.b #0x06,&UCA0MCTL
	mov.b #0x00,&UCA0STAT
	mov.b #0x40,&UCA0CTL1
	mov.b #0x00,&IE2
	ret

	.sect ".reset" ; MSP430 RESET Vector
	.short START;
	.end
